<mat-toolbar class="mat-elevation-z8">

    <img src="../../../assets/logo.png" alt="Marsh logo" matTooltip="Marsh Logo" class='nav-button' (click)="redirectToHome()" />

    <span class="spacer-left"></span>

    <span class="nav-title" role="button" (click)="redirectToHome()">Trade Marshals</span>

    <span class="spacer-right"></span>
    <span class="spacer-right"></span>

    <!-- <button mat-button class='nav-button' (click)="redirectToHome()">Home</button> -->
    <button mat-button [matMenuTriggerFor]="profile" class="nav-button">
        <mat-icon>expand_more</mat-icon>
        <mat-label class='label' matTooltip="{{clientProfileData?.client?.name}}">User</mat-label>
    </button>

    <mat-menu #profile="matMenu" class="dropdown-menu">
        <button class="dropdown-menu-button" mat-menu-item (click)="redirectToProfile()">
            <mat-icon style="color: white;">account_circle</mat-icon>
            <mat-label>Profile</mat-label>
        </button>
        <button class="dropdown-menu-button" mat-menu-item (click)="logout()">
            <mat-icon style="color: white;">logout</mat-icon>
            <mat-label>Logout</mat-label>
        </button>
    </mat-menu>

</mat-toolbar>

<article class="content mat-elevation-z4">
    <mat-sidenav-container class="sidenav-container">
        <mat-sidenav #sidenav mode="side" opened="true" class="sidenav">
            <mat-nav-list>
                <mat-list-item>
                    <button mat-icon-button (click)="isSideMenuExpanded =!isSideMenuExpanded" class="menu-button">
                        <mat-icon>menu</mat-icon>
                    </button>
                </mat-list-item>
                <mat-list-item routerLinkActive="active">
                    <a routerLink="/home">
                        <button mat-button class="menu-button" (click)="isHomeContent=false" (click)="redirectToHome()">
                            <mat-icon mat-list-icon> home </mat-icon>
                            <p matLine *ngIf="isSideMenuExpanded"> Home </p>
                        </button>
                    </a>
                </mat-list-item>
                <mat-divider></mat-divider>
                <mat-list-item routerLinkActive="active">
                    <a routerLink="/home/client-preferences">
                        <button mat-button class="menu-button" (click)="isHomeContent=false">
                            <mat-icon mat-list-icon> tune </mat-icon>
                            <p matLine *ngIf="isSideMenuExpanded"> Preferences </p>
                        </button>
                    </a>
                </mat-list-item>
                <mat-divider></mat-divider>
                <mat-list-item routerLinkActive="active">
                    <a routerLink="/home/client-portfolio">
                        <button mat-button class="menu-button" (click)="isHomeContent=false">
                            <mat-icon mat-list-icon> account_balance </mat-icon>
                            <p matLine *ngIf="isSideMenuExpanded"> Portfolio </p>
                        </button>
                    </a>
                </mat-list-item>
                <mat-divider></mat-divider>
                <mat-list-item routerLinkActive="active">
                    <a routerLink="/home/client-trading-history">
                        <button mat-button class="menu-button" (click)="isHomeContent=false">
                            <mat-icon mat-list-icon> history </mat-icon>
                            <p matLine *ngIf="isSideMenuExpanded"> Trading History </p>
                        </button>
                    </a>
                </mat-list-item>
                <mat-divider></mat-divider>
                <mat-list-item routerLinkActive="active">
                    <a routerLink="/home/report-activity">
                        <button mat-button class="menu-button" (click)="isHomeContent=false">
                            <mat-icon mat-list-icon> assessment</mat-icon>
                            <p matLine *ngIf="isSideMenuExpanded"> Report Activity </p>
                        </button>
                    </a>
                </mat-list-item>
            </mat-nav-list>
        </mat-sidenav>

        <mat-sidenav-content [ngStyle]="{'margin-left.px': isSideMenuExpanded ? 250 : 100}">
            <section class="body-content mat-elevation-z8">
                <div *ngIf="isHomeContent" class="home-content">
                    <h1> Welcome {{clientProfileData?.client?.name}} ! </h1>

                    <div (click)="openDialog()" *ngIf="clientPreferencesData?.acceptAdvisor == 'true'" class="chatbot-button mat-elevation-z9999">
                        <div class="button-content">
                            <img src="../../../assets/logo.png" alt="Marsh Robo Advisor">
                            <span class="button-text">Marsh <br> Robo Advisor</span>
                        </div>
                    </div>
                    

                    <div class="explore-section mat-elevation-z8">
                        <h2> Market Overview </h2>
                        <app-price-list></app-price-list>
                    </div>

                </div>
                <div *ngIf="!isHomeContent" class="home-content">
                    <router-outlet></router-outlet>
                </div>
            </section>
        </mat-sidenav-content>
    </mat-sidenav-container>
</article>

<footer class="footer">
    <a>
        <p> Contact Support <span><mat-icon mat-list-icon>contact_support</mat-icon></span> | Copyright &copy; MARSH</p>
    </a>
</footer>